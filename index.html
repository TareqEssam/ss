<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø³ØªØ´Ø§Ø± Ø§Ù„Ù„Ø¬Ø§Ù†  - GAFI AI Assistant</title>
  
  <!-- CSS -->
  <link rel="stylesheet" href="css/ai-assistant.css">
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f5;
      min-height: 100vh;
    }
    
    .main-content {
      padding: 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    
    .header {
      text-align: center;
      padding: 40px 20px;
      background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
      color: white;
      border-radius: 16px;
      margin-bottom: 30px;
    }
    
    .header h1 {
      font-size: 2em;
      margin-bottom: 10px;
    }
    
    .header p {
      opacity: 0.9;
      font-size: 1.1em;
    }
    
    #loading-screen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 99999;
      flex-direction: column;
    }
    
    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(255, 255, 255, 0.2);
      border-top-color: #3b82f6;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .loading-text {
      color: white;
      margin-top: 20px;
      font-size: 18px;
    }
    
    .loading-progress {
      color: #60a5fa;
      margin-top: 10px;
      font-size: 14px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>
<body>

  <!-- Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„ -->
  <div id="loading-screen">
    <div class="loading-spinner"></div>
    <div class="loading-text">Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ...</div>
    <div class="loading-progress" id="loading-progress">ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†Ø¸Ø§Ù…...</div>
  </div>

  <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
  <div class="main-content">
    <div class="header">
      <h1>ğŸ¤– Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ù„Ø¬Ø§Ù† Ø§Ù„Ø°ÙƒÙŠ</h1>
      <p>Ù…Ø³ØªØ´Ø§Ø± Ø®Ø¨ÙŠØ± Ù„Ù„Ù‡ÙŠØ¦Ø© Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± ÙˆØ§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø­Ø±Ø©</p>
    </div>
  </div>

  <!-- ========================================
       Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ© (Ø§Ù„Ù…Ø´ÙˆØ´Ø©)
  ======================================== -->
  <script src="js/activity_database-s.js"></script>
  <script src="js/decision104_database-s.js"></script>
  <script src="js/industrial_database-s.js"></script>

  <!-- ========================================
       Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
  ======================================== -->
  <script src="js/arabic-normalizer.js"></script>
  <script src="js/transformers-loader.js"></script>
  <script src="js/vector-engine-v7.js"></script>
  <script src="js/intent-classifier.js"></script>
  <script src="js/indexeddb-manager.js"></script>
  <script src="js/query-parser.js"></script>
  <script src="js/learning-system.js"></script>
  <script src="js/response-generator.js"></script>

  <!-- ========================================
       Ù…ÙƒÙˆÙ†Ø§Øª Progress Indicator
  ======================================== -->
  <script src="js/progress-indicator.js"></script>

  <!-- ========================================
       Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
  ======================================== -->
  <script src="js/ai-expert-core.js"></script>

  <!-- ========================================
       Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
  ======================================== -->
  <script src="js/voice-handler.js"></script>
  <script src="js/typewriter-effect.js"></script>
  <script src="js/ui-controller.js"></script>

  <!-- ========================================
       Ø§Ù„ØªÙ‡ÙŠØ¦Ø© ÙˆØ§Ù„ØªØ´ØºÙŠÙ„
  ======================================== -->
  <script type="module">
/** 
 * ğŸ”§ ÙƒÙˆØ¯ Ø§Ù„ØªÙƒØ§Ù…Ù„ Ø§Ù„ÙƒØ§Ù…Ù„ - Ù„Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ù„ØµÙ‚ ÙÙŠ index.html
 * 
 * Ø¶Ø¹ Ù‡Ø°Ø§ Ø§Ù„ÙƒÙˆØ¯ ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ù…Ù„Ù index.html Ø¯Ø§Ø®Ù„:
 * <script type="module">
 */

(async function() {
  const updateProgress = (msg) => {
    const el = document.getElementById('loading-progress');
    if (el) el.textContent = msg;
  };

  console.log('ğŸš€ Ø¨Ø¯Ø¡ ØªØ­Ù…ÙŠÙ„ Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ...');

  try {
    // === Ø§Ù„Ù…Ø±Ø­Ù„Ø© 1: ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ù‡ÙŠØ© ===
   updateProgress('ğŸ“¦ ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ù‡ÙŠØ©...');
console.log('ğŸ“¦ ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØ¬Ù‡ÙŠØ©...');

// Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù…Ù„ÙØ§Øª
await import('./data/activity_vectors.js');
await import('./data/decision104_vectors.js');
await import('./data/industrial_vectors.js');

// Ø±Ø¨Ø· Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªÙŠ ÙˆÙ„Ø¯Ù‡Ø§ Ø³ÙƒØ±ÙŠØ¨Øª Ø¨Ø§ÙŠØ«ÙˆÙ† (Ø§Ù„ØªÙŠ ØªØ¨Ø¯Ø£ Ø¨Ù€ window)
window.activityVectors = window.activityVectorsData;
window.decision104Vectors = window.decisionVectorsData;
window.industrialVectors = window.industrialVectorsData;

console.log('âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª:', {
  activity: window.activityVectors?.vectors?.length || 0,
  decision104: window.decision104Vectors?.vectors?.length || 0,
  industrial: window.industrialVectors?.vectors?.length || 0
});

    // === Ø§Ù„Ù…Ø±Ø­Ù„Ø© 2: Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ© ===
    updateProgress('ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ©...');
    console.log('ğŸ” Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ©...');
    
    if (typeof masterActivityDB === 'undefined') {
      throw new Error('âŒ Ù…Ù„Ù activity_database-s.js ØºÙŠØ± Ù…Ø­Ù…Ù„!');
    }
    if (typeof decision104DB === 'undefined') {
      throw new Error('âŒ Ù…Ù„Ù decision104_database-s.js ØºÙŠØ± Ù…Ø­Ù…Ù„!');
    }
    if (typeof industrialDB === 'undefined') {
      throw new Error('âŒ Ù…Ù„Ù industrial_database-s.js ØºÙŠØ± Ù…Ø­Ù…Ù„!');
    }

    console.log('âœ… Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ© Ù…Ø­Ù…Ù„Ø©:', {
      masterActivityDB: Array.isArray(masterActivityDB) ? masterActivityDB.length : 'Ø®Ø·Ø£',
      decision104DB: typeof decision104DB === 'object' ? 'Ù…ÙˆØ¬ÙˆØ¯' : 'Ø®Ø·Ø£',
      industrialDB: Array.isArray(industrialDB) ? industrialDB.length : 'Ø®Ø·Ø£'
    });

    window.textDatabases = {
      activities: masterActivityDB,
      decision104: decision104DB,
      industrial: industrialDB
    };

    // === Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3: ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ===
    updateProgress('ğŸ”§ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©...');
    console.log('ğŸ”§ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©...');
    
    const normalizer = new ArabicNormalizer();
    const vectorEngine = new VectorEngineV7(normalizer);
    await vectorEngine.initialize();
    
    const intentClassifier = new IntentClassifier(normalizer, vectorEngine);
    const dbManager = new IndexedDBManager();
    const learningSystem = new LearningSystem(dbManager, normalizer);
    const queryParser = new QueryParser(normalizer, intentClassifier);
    const responseGenerator = new ResponseGenerator();
    const voiceHandler = new VoiceHandler();
    const typewriter = new TypewriterEffect();
    
    console.log('âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…ÙƒÙˆÙ†Ø§Øª');

    // === Ø§Ù„Ù…Ø±Ø­Ù„Ø© 4: Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… ===
    updateProgress('ğŸ”„ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…...');
    console.log('ğŸ”„ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…...');
    
    const progressIndicator = new ProgressIndicator();
    console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…');

    // === Ø§Ù„Ù…Ø±Ø­Ù„Ø© 5: ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ===
    updateProgress('ğŸ§  ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©...');
    console.log('ğŸ§  ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©...');
    
    const aiCore = new AIExpertCore();
    aiCore.normalizer = normalizer;
    aiCore.vectorEngine = vectorEngine;
    aiCore.intentClassifier = intentClassifier;
    aiCore.dbManager = dbManager;
    aiCore.learningSystem = learningSystem;
    aiCore.queryParser = queryParser;
    
    // ğŸ”¥ Ø±Ø¨Ø· Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø§Ù„Ù…ØªØ¬Ù‡ÙŠØ© + Ø§Ù„Ù†ØµÙŠØ©)
    aiCore.vectorDatabases = {
      activity: window.activityVectors,
      decision104: window.decision104Vectors,
      industrial: window.industrialVectors
    };

    aiCore.textDatabases = window.textDatabases;
    
    // ğŸ”¥ Ø±Ø¨Ø· Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù… Ø¨Ø§Ù„Ù†ÙˆØ§Ø©
    aiCore.onStatusChange = (statusInfo) => {
      console.log('ğŸ“ Status Update:', statusInfo);
      
      switch(statusInfo.status) {
        case 'processing':
          progressIndicator.show(statusInfo.step || 'Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªÙÙƒÙŠØ±...');
          break;
          
        case 'complete':
          progressIndicator.showSuccess('ØªÙ…!', 1000);
          break;
          
        case 'error':
          progressIndicator.showError('Ø­Ø¯Ø« Ø®Ø·Ø£', 2000);
          break;
          
        case 'ready':
          progressIndicator.hide();
          break;
          
        default:
          console.log('Unknown status:', statusInfo);
      }
    };

   // Ø£Ø¶Ù Ù‡Ø°Ø§ Ù‚Ø¨Ù„ Ø§Ù„Ù…Ø±Ø­Ù„Ø© 3 Ø£Ùˆ ÙÙŠ Ø¨Ø¯Ø§ÙŠØªÙ‡Ø§
if (typeof env !== 'undefined') {
    // Ø¥Ø¬Ø¨Ø§Ø± Ø§Ù„Ù…ÙƒØªØ¨Ø© Ø¹Ù„Ù‰ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ù…Ù† Ø³ÙŠØ±ÙØ± Xenova Ø§Ù„Ø±Ø³Ù…ÙŠ Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ø§Ù„Ù…Ù„ÙØ§Øª Ù…Ø­Ù„ÙŠØ©
    env.allowRemoteModels = true; 
    env.remoteHost = 'https://huggingface.co/Xenova/resolve/main/';
}
    
    await aiCore.initialize();
    console.log('âœ… Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¬Ø§Ù‡Ø²Ø©');

    // === Ø§Ù„Ù…Ø±Ø­Ù„Ø© 6: ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© ===
    updateProgress('ğŸ¨ ØªÙ‡ÙŠØ¦Ø© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...');
    console.log('ğŸ¨ ØªÙ‡ÙŠØ¦Ø© ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…...');
    
    const uiController = new UIController(
      aiCore,
      voiceHandler,
      typewriter,
      responseGenerator
    );
    
    await uiController.initialize();
    console.log('âœ… Ø§Ù„ÙˆØ§Ø¬Ù‡Ø© Ø¬Ø§Ù‡Ø²Ø©');

    // === Ø­ÙØ¸ ÙÙŠ window Ù„Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø¹Ø§Ù… ===
    window.aiAssistant = {
      core: aiCore,
      ui: uiController,
      voice: voiceHandler,
      typewriter: typewriter,
      vectorEngine: vectorEngine,
      textDatabases: window.textDatabases,
      progressIndicator: progressIndicator, // âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù…Ø¤Ø´Ø±
      
      // Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø©
      stats: () => {
        console.log('');
        console.log('ğŸ“Š â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('ğŸ“Š Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„ÙƒØ§Ù…Ù„Ø©');
        console.log('ğŸ“Š â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
        console.log('');
        console.log('ğŸ§  Ø§Ù„Ù†ÙˆØ§Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©:', aiCore.getStatistics());
        console.log('');
        console.log('ğŸ”¢ Ù…Ø­Ø±Ùƒ Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª:', vectorEngine.getStatistics());
        console.log('');
        console.log('ğŸ“š Ù†Ø¸Ø§Ù… Ø§Ù„ØªØ¹Ù„Ù…:', learningSystem.getStatistics());
        console.log('');
        console.log('ğŸ“ Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ©:', {
          activities: window.textDatabases.activities.length,
          decision104: Object.keys(window.textDatabases.decision104).length,
          industrial: window.textDatabases.industrial.length
        });
        console.log('');
      },
      
      // Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø± ÙÙŠ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ù†ØµÙŠØ©
      searchText: (query, db = 'all') => {
        const normalized = normalizer.normalize(query);
        const results = { activities: [], decision104: [], industrial: [] };
        
        if (db === 'all' || db === 'activities') {
          results.activities = window.textDatabases.activities.filter(item => {
            const text = JSON.stringify(item).toLowerCase();
            return text.includes(normalized.toLowerCase());
          });
        }
        
        if (db === 'all' || db === 'industrial') {
          results.industrial = window.textDatabases.industrial.filter(item => {
            const text = JSON.stringify(item).toLowerCase();
            return text.includes(normalized.toLowerCase());
          });
        }
        
        console.log('ğŸ” Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø¨Ø­Ø« Ø§Ù„Ù†ØµÙŠ:', results);
        return results;
      },

      // ğŸ”¥ Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…
      testProgress: () => {
        console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…...');
        
        progressIndicator.show('Ø§Ø®ØªØ¨Ø§Ø± 1: Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„');
        
        setTimeout(() => {
          progressIndicator.updateStep('Ø§Ø®ØªØ¨Ø§Ø± 2: Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©');
        }, 2000);
        
        setTimeout(() => {
          progressIndicator.updateStep('Ø§Ø®ØªØ¨Ø§Ø± 3: Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡');
        }, 4000);
        
        setTimeout(() => {
          progressIndicator.showSuccess('ØªÙ… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± Ø¨Ù†Ø¬Ø§Ø­!', 1500);
        }, 6000);
      }
    };

    // Ø¥Ø®ÙØ§Ø¡ Ø´Ø§Ø´Ø© Ø§Ù„ØªØ­Ù…ÙŠÙ„
    document.getElementById('loading-screen').style.display = 'none';

    // Ø±Ø³Ø§Ù„Ø© Ø§Ù„Ù†Ø¬Ø§Ø­
    console.log('');
    console.log('ğŸ‰ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('âœ… Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯ Ø§Ù„Ø°ÙƒÙŠ Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ù…Ù„ Ø¨Ø§Ù„ÙƒØ§Ù…Ù„!');
    console.log('ğŸ‰ â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•');
    console.log('');
    console.log('ğŸ“Š Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù…Ù„Ø©:');
    console.log('   â€¢ Ø§Ù„Ù…ØªØ¬Ù‡Ø§Øª (vectors):');
    console.log('      - Ø§Ù„Ø£Ù†Ø´Ø·Ø©:', window.activityVectors?.data?.length || 0);
    console.log('      - Ø§Ù„Ù‚Ø±Ø§Ø± 104:', window.decision104Vectors?.data?.length || 0);
    console.log('      - Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØµÙ†Ø§Ø¹ÙŠØ©:', window.industrialVectors?.data?.length || 0);
    console.log('');
    console.log('   â€¢ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†ØµÙŠØ© (text databases):');
    console.log('      - masterActivityDB:', masterActivityDB?.length || 0);
    console.log('      - decision104DB:', typeof decision104DB === 'object' ? 'âœ“' : 'âœ—');
    console.log('      - industrialDB:', industrialDB?.length || 0);
    console.log('');
    console.log('ğŸ’¡ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù†:');
    console.log('   â€¢ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø© Ø§Ù„Ø¹Ø§Ø¦Ù…Ø© ğŸ¤–');
    console.log('   â€¢ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ù…Ø§ÙŠÙƒ Ù„Ù„ØªØ­Ø¯Ø« ğŸ¤');
    console.log('   â€¢ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ù…Ø¨Ø§Ø´Ø±Ø© âŒ¨ï¸');
    console.log('');
    console.log('ğŸ”§ Ø£ÙˆØ§Ù…Ø± Ù…ÙÙŠØ¯Ø©:');
    console.log('   â€¢ aiAssistant.stats() - Ø¹Ø±Ø¶ Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª');
    console.log('   â€¢ aiAssistant.searchText("ÙÙ†Ø¯Ù‚") - Ø¨Ø­Ø« Ù†ØµÙŠ Ù…Ø¨Ø§Ø´Ø±');
    console.log('   â€¢ aiAssistant.testProgress() - Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…');
    console.log('   â€¢ aiAssistant.progressIndicator.show("Ø±Ø³Ø§Ù„Ø©") - Ø¹Ø±Ø¶ Ù…Ø¤Ø´Ø±');
    console.log('');
    console.log('ğŸ§ª Ø§Ø®ØªØ¨Ø§Ø± Ù…Ø¤Ø´Ø± Ø§Ù„ØªÙ‚Ø¯Ù…:');
    console.log('   ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¢Ù† ÙƒØªØ§Ø¨Ø©: aiAssistant.testProgress()');
    console.log('');

  } catch (error) {
    console.error('âŒ ÙØ´Ù„ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù†Ø¸Ø§Ù…:', error);
    
    document.getElementById('loading-screen').innerHTML = `
      <div style="color: white; text-align: center; padding: 20px; max-width: 600px;">
        <h2 style="color: #ef4444; margin-bottom: 20px;">âŒ Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„</h2>
        <div style="background: rgba(239, 68, 68, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 20px;">
          <p style="margin-bottom: 10px; font-weight: bold;">${error.message}</p>
          <pre style="text-align: left; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 4px; overflow: auto; max-height: 200px; font-size: 12px;">${error.stack || 'Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©'}</pre>
        </div>
        <p style="margin-bottom: 20px; opacity: 0.8;">ØªØ£ÙƒØ¯ Ù…Ù†:</p>
        <ul style="text-align: right; list-style: none; padding: 0; margin-bottom: 20px;">
          <li style="margin: 10px 0;">âœ“ ÙˆØ¬ÙˆØ¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ù„ÙØ§Øª ÙÙŠ Ø§Ù„Ù…Ø¬Ù„Ø¯ Ø§Ù„ØµØ­ÙŠØ­</li>
          <li style="margin: 10px 0;">âœ“ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ù…Ø´ÙˆØ´Ø© (activity_database-s.js, etc.)</li>
          <li style="margin: 10px 0;">âœ“ ØªØ´ØºÙŠÙ„ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¹Ù„Ù‰ localhost Ø£Ùˆ server</li>
        </ul>
        <button onclick="location.reload()" 
                style="padding: 12px 24px; background: #3b82f6; color: white; border: none; border-radius: 8px; cursor: pointer; font-size: 16px;">
          ğŸ”„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
        </button>
      </div>
    `;
  }
})();
  </script>

</body>
</html>

